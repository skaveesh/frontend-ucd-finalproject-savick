<div style="align-content:center; text-align: center">

  <h2 style="color:#3f3f3f">My Portfolio</h2>
  <h6 style="color:#3f3f3f">(Broker Transactions)</h6>

  <div class="fa-3x icon-color" *ngIf="brokerPortfolioHasCreated == null">
    <i class="fas fa-cog fa-spin-reverse"></i>
  </div>

  <div *ngIf="brokerPortfolioHasCreated && brokerPortfolioHasCreated != null">

    <div class="fa-3x icon-color" *ngIf="!hasPortfolioCreated">
      <i class="fas fa-cog fa-spin"></i>
    </div>

    <mat-tab-group backgroundColor="primary" *ngIf="hasPortfolioCreated">
      <mat-tab label="Stocks I Own">

        <table mat-table [dataSource]="ownStockList" class="mat-elevation-z8">
          <!-- Stock Column -->
          <ng-container matColumnDef="stock">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Stock Name</th>
            <td mat-cell *matCellDef="let element"> {{element.stock}}</td>
          </ng-container>

          <!-- Quantity Column -->
          <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Quantity</th>
            <td mat-cell *matCellDef="let element"> {{element.quantity}}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="ownStockListDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: ownStockListDisplayedColumns;"></tr>
        </table>

        <mat-card *ngIf="ownStockList.length == 0" >
          No Data
        </mat-card>

      </mat-tab>
      <mat-tab label="Stocks I Brought">

        <table mat-table [dataSource]="broughtStockList" class="mat-elevation-z8">
          <!-- Stock Column -->
          <ng-container matColumnDef="stock">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Stock Name</th>
            <td mat-cell *matCellDef="let element"> {{element.stock}}</td>
          </ng-container>

          <!-- Quantity Column -->
          <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Quantity</th>
            <td mat-cell *matCellDef="let element"> {{element.quantity}}</td>
          </ng-container>

          <!-- Price Column -->
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Price</th>
            <td mat-cell *matCellDef="let element"> {{returnRoundPrice(element.price)}}</td>
          </ng-container>

          <!-- Turn Column -->
          <ng-container matColumnDef="turn">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Turn</th>
            <td mat-cell *matCellDef="let element"> {{element.turn}}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="broughtStockListDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: broughtStockListDisplayedColumns;"></tr>
        </table>

        <mat-card *ngIf="broughtStockList.length == 0" >
          No Data
        </mat-card>

      </mat-tab>
      <mat-tab label="Stocks I Sold">

        <table mat-table [dataSource]="soldStockList" class="mat-elevation-z8">
          <!-- Stock Column -->
          <ng-container matColumnDef="stock">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Stock Name</th>
            <td mat-cell *matCellDef="let element"> {{element.stock}}</td>
          </ng-container>

          <!-- Quantity Column -->
          <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Quantity</th>
            <td mat-cell *matCellDef="let element"> {{element.quantity}}</td>
          </ng-container>

          <!-- Price Column -->
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Price</th>
            <td mat-cell *matCellDef="let element"> {{returnRoundPrice(element.price)}}</td>
          </ng-container>

          <!-- Turn Column -->
          <ng-container matColumnDef="turn">
            <th mat-header-cell *matHeaderCellDef style="text-align: center"> Turn</th>
            <td mat-cell *matCellDef="let element"> {{element.turn}}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="soldStockListDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: soldStockListDisplayedColumns;"></tr>
        </table>

        <mat-card *ngIf="soldStockList.length == 0" >
          No Data
        </mat-card>

      </mat-tab>
    </mat-tab-group>

  </div>

  <div *ngIf="!brokerPortfolioHasCreated && brokerPortfolioHasCreated != null">
    <button mat-raised-button color="accent" (click)="createBrokerAccount()">Create Portfolio</button>
  </div>

</div>
